apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    cert-manager.io/cluster-issuer: acme-issuer
    gethomepage.dev/enabled: "true"
    gethomepage.dev/href: "https://devpod.kirillorlov.pro"
    gethomepage.dev/group: Dev Tools
    gethomepage.dev/name: DevPod
    gethomepage.dev/icon: code.png
    gethomepage.dev/pod-selector: "app=opencode"
    gethomepage.dev/description: "AI Development Environment"
  name: devpod-opencode
  namespace: devpod
spec:
  tls:
  - hosts:
    - devpod.kirillorlov.pro
    secretName: devpod-opencode-tls
  rules:
  - host: devpod.kirillorlov.pro
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: opencode
            port:
              number: 4096
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    cert-manager.io/cluster-issuer: acme-issuer
    gethomepage.dev/enabled: "true"
    gethomepage.dev/href: "https://vibe.kirillorlov.pro"
    gethomepage.dev/group: Dev Tools
    gethomepage.dev/name: VibeKanban
    gethomepage.dev/icon: kanban.png
    gethomepage.dev/pod-selector: "app=vibekanban"
    gethomepage.dev/description: "Multi-agent Task Orchestration"
  name: devpod-vibe
  namespace: devpod
spec:
  tls:
  - hosts:
    - vibe.kirillorlov.pro
    secretName: devpod-vibe-tls
  rules:
  - host: vibe.kirillorlov.pro
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: vibekanban
            port:
              number: 3000
---
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  annotations:
    cert-manager.io/cluster-issuer: acme-issuer
    gethomepage.dev/enabled: "true"
    gethomepage.dev/href: "https://code.kirillorlov.pro"
    gethomepage.dev/group: Dev Tools
    gethomepage.dev/name: Code Server
    gethomepage.dev/icon: vscode.png
    gethomepage.dev/pod-selector: "app=codeserver"
    gethomepage.dev/description: "Web-based VS Code"
  name: devpod-code
  namespace: devpod
spec:
  tls:
  - hosts:
    - code.kirillorlov.pro
    secretName: devpod-code-tls
  rules:
  - host: code.kirillorlov.pro
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: codeserver
            port:
              number: 8080
