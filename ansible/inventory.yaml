working_hosts:
  children:
    server:
      hosts:
        alfheimr:
          ansible_host: 192.168.178.10
          server: 100.64.0.1
        midgard:
          ansible_host: 192.168.178.11
          server: 100.64.0.2
      #agent:
  vars:
    prepare_system: false
    prepare_k3s: true
    prepare_k3s_binary: false
    prepare_k3s_cluster_init: false
    prepare_keepalived: false
    prepare_mysql: false

    mariadb_root_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      63656361616664353164666630343934386131306630343834633566336332623837353666393836
      3464343632373538663435313537356633333038393336370a646332373736323033343662663764
      38373962386561643564366331626561363334646438363835333037633934393464643734313031
      3337373032363532640a386637623633366663346238343362323838636239313166353264666462
      6633
    keepalived_token: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      35396463306538656536356663303865343532363762316538646265666131646666616266636533
      3436613262623933303335633932333834636139343732620a613834623064613562353136386330
      62306338356635353561353836306531373562376561386432656634333738366133656262613466
      3638303035326163610a356633633265316361353461663066373634353631353364643764323631
      32653162386362393535366165666132633231636664616466363661356534306665

    ansible_user: root

    virtual_ip_address: 192.168.179.1

    k3s_version: v1.30.2+k3s1
    token: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      31643632323137326332653139366336326232616338613863653962353734373539326431643338
      3537653563336261653832616534326337393332396264380a346433653864353133646234376539
      65643436306332323733306438616134393636643734393061613662323062336535633630623864
      6134653836336533620a343061376563656634366531333734303031646165663234343237336666
      3265
    api_endpoint: "{{ hostvars[groups['server'][0]]['ansible_host'] | default(groups['server'][0]) }}"

    extra_server_args: "--datastore-endpoint=\"mysql://k3s:{{ mariadb_root_password }}@tcp({{ virtual_ip_address }}:3306)/k3s\" --tls-san=\"{{ virtual_ip_address }}\""
    extra_agent_args: ""

    galera:
      cluster_name: "k3s_cluster"
      addresses: "192.168.178.10,192.168.178.11" #,192.168.178.12

    secrets:
      - name: golden-secret
        namespace: kube-system
        stringData:
          user-password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            35646435363262353861303962363236343137633739393836363864396239346265353864623031
            6265343333666131343662623961356366623661646562380a633263356638386231343538653765
            65373439616662613430336635363831646135323433303566613933656431393764396238343762
            6232633565366666310a613364326263363034663139356162643136393364643066343166383232
            3663
          cloudflare-api-token: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              35633731323336633163356662383165366164353863656262333863323363616333323335613465
              3763633537343862623536666536343462393365363939630a346435636263313762333130373836
              39323731326437363430313237373539666363613061623566643262323536393266666236643261
              6637396264363565660a656334303838616134323237353936616362623966376334316538626561
              61383163663139653264636363376361646230313862643065613431636233663965616561646466
              3566393064333636303839626431376539393363373062373561
          cloudflare-tunnel-token: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              61656264316438626265366138366466333536383635623031363066626661666432373164613266
              6439623039666665633030633939383736346639646339390a346635653133616463646665393964
              30663262646237656663353263316331623537366334386330353934613863353163346264656236
              3166373733643762340a326639323662636135366434656165313836393937386161623837323634
              64653562623435626166396330353639366439376435306566643364343031663138656365393134
              36376165326135346438613233303132393231393966306438303763666132623232626439363062
              32303533363733633037326638393137616537333335393364333733326430663735393134663131
              33666333643930633539613938396338353564653664643662313664376561313335323130316137
              39636337656662356232646231646135613634383261343461366431336665643762313534393762
              34643431396265396431323734643832303462346666633036373238653139613839383637643565
              66633232663536663137303464373032363939303638386132643865666662633634393136623036
              30373364316437643137663039643561363935306432386361376465346663396338393736663034
              35333235306465633432353839616331636234396637636334626437396463366134
          rss-telegram-bot-token: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            32313735363639306333313964343030633334313865643461646336306563643839356633663330
            3935313135336334333132366530343536366433336532660a366338616135333564326630373335
            63623035356263623136363066343266643332643238353837353531616562393934346238643833
            6366396631383462630a323066663430366464643837643662666638346131353334306333383635
            62666264646264663835313961363361666636623932323737383561326264353461326337343165
            3663333237303833623564623237373166306536623431343766
          rss-telegram-bot-manager: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            37343237663132643766346663353330313432613736613934656262313633363538363031346262
            3134663739623565393662393938303765366639623366660a633364393564386566313464666466
            30306230613834656136643433336637613961386236353930303061613235383234313131373433
            6366666230373332620a373631393736633031353332306636366465336366333161323236383433
            6338
          rss-telegram-bot-telegraph-token:
            !vault |
            $ANSIBLE_VAULT;1.1;AES256
            34613637663536303639633338353333316430616132323561616635633534653831623438383066
            3834376534376665323535393133636235353761633163370a653766663461346336373335306530
            33366236663834356530346234333933646134303933613234373933663731373538633437646431
            6432343639653038310a386335353165376364336561656435316461323135393738333166306566
            33373236653939646234333366376630663736383263363239306133306463636639343165373236
            37303864333461346364306434643161653661313630383937396161383933646266646364616232
            31376533376430343938623937383335636663633136663664313538653237343739303062336363
            63353362376166383234393231303466316161663736663236633632366232623030653737616632
            66616263326434343233323661663631303938373337393266343263663230663435656338616533
            64343762383664333038306237363366383838376464333064653862326634663039633732393863
            61303338636533356534623565363063363537316531616361343136663533656139366163656537
            34663162326635333736613736613033386463383736333038373561356464373132366266613437
            63666464646366386139306335366666623763396161373231333232353763396363663736653362
            30656139396431306566393734383030356631663462363566356534303933306564386563326463
            35326435316465643334353732353932363232343133623937323266646139393134656561323239
            30653737373133373863386561396565356366313761313466633539616262333964633734326636
            64633533643665343464326431636532643966613239363061376561383139626439353731313331
            37396338333034643535303938316131313564356665343233646231393163363339386564663763
            363831363837616431653931356432623330
          rss-telegram-bot-api-id: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            32626531353236393164656664633539326436663937353238393765313864643335663733373333
            3562333461363962363966393462643230373239383833330a326336626164336632633232336232
            31613662396238613931626434653434646634666632626662316639653366316532363961346561
            6435323465663039310a663061393335313439333166316463626630356338633663346166643063
            6366
          rss-telegram-bot-api-hash: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            66346162336636623735343266393466363361303261383864323335323166376432616530353039
            6633343833326431626463306138633637326137396337380a613837636237323632613736313837
            62323364383265643962656334623032366465373634383836643966316438373638313963306133
            3235653737356638610a636237303731383331653265373635373163346134646134613065646261
            35373561373034633438366361363933393465346333613535656664313665663336386432623635
            6231373632363035636432313363393433343832356330363637

          ovh-s3-longhorn-backups-username: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            32376331386165656537313666663264346264303663613664396638396236613136386364613030
            3661646532313162303165343632366337343134373164360a336135306635326466643835326339
            65353834623763303561303238363763633363636539343064346534663631356661643032646530
            3935633032373937320a306332643939383931386633393462613865396532303662303566396634
            65306265316137646364353765396263386564333534383165393565366566363030
          ovh-s3-longhorn-backups-access-key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            33613039653362616637336435396365313735643931326661316537333034333438396666376665
            3965653838646232616338323338373438616532316166620a303661303339353330363937343335
            63366234353036376231316362383332663637363235343534396166316164663161383039646437
            3666356161343135380a306564383466616363323138656365653266363034653230633639356638
            31323531643031643063396630333462613430396336623031383763316431633639646137633531
            3431653132393734343630303333316161313663646631313937
          ovh-s3-longhorn-backups-secret-key: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            39383939663139616466313839643437353463653436663832323337396232353834623136646530
            6634663535373636373263366166373165303863643937380a336230373233336166386237663938
            34306332623632333437306262383561306135666333303163623739633930383063363164316565
            3832643935386432630a363764653634316338363330666566393031336465363664306632363062
            38303332356630346531633061303030363331623663333437633231363765656532303761303930
            6437633735383965396666303530306139623266393434343561