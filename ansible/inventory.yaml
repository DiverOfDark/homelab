working_hosts:
  children:
    server:
      hosts:
        alfheimr:
          ansible_host: 192.168.178.10
          server: 100.64.0.1
        midgard:
          ansible_host: 192.168.178.11
          server: 100.64.0.2
      #agent:
  vars:
    prepare_system: true
    prepare_k3s: false
    prepare_k3s_binary: false
    prepare_k3s_cluster_init: false
    prepare_keepalived: false
    prepare_mysql: true

    mariadb_root_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      63656361616664353164666630343934386131306630343834633566336332623837353666393836
      3464343632373538663435313537356633333038393336370a646332373736323033343662663764
      38373962386561643564366331626561363334646438363835333037633934393464643734313031
      3337373032363532640a386637623633366663346238343362323838636239313166353264666462
      6633
    keepalived_token: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      35396463306538656536356663303865343532363762316538646265666131646666616266636533
      3436613262623933303335633932333834636139343732620a613834623064613562353136386330
      62306338356635353561353836306531373562376561386432656634333738366133656262613466
      3638303035326163610a356633633265316361353461663066373634353631353364643764323631
      32653162386362393535366165666132633231636664616466363661356534306665

    ansible_user: root

    virtual_ip_address: 192.168.179.1

    k3s_version: v1.30.2+k3s1
    token: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      31643632323137326332653139366336326232616338613863653962353734373539326431643338
      3537653563336261653832616534326337393332396264380a346433653864353133646234376539
      65643436306332323733306438616134393636643734393061613662323062336535633630623864
      6134653836336533620a343061376563656634366531333734303031646165663234343237336666
      3265
    api_endpoint: "{{ hostvars[groups['server'][0]]['ansible_host'] | default(groups['server'][0]) }}"

    extra_server_args: "--datastore-endpoint=\"mysql://k3s:{{ mariadb_root_password }}@tcp({{ virtual_ip_address }}:3306)/k3s\" --tls-san=\"{{ virtual_ip_address }}\""
    extra_agent_args: ""

    galera:
      cluster_name: "k3s_cluster"
      addresses: "192.168.178.10,192.168.178.11" #,192.168.178.12

    secrets:
      - name: argocd-initial-admin-secret
        namespace: argocd
        stringData:
          password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            61356236393161383434356431386533666234343564336430626232663161613930333333636161
            3764653939366363623263333235393431363461623932360a323862613862626539623832313934
            32386534363066326130356366363435373638623530323764663531366666376630366639306239
            3230666232643638310a643939656530633330613638326138613062653935336565366166353533
            3531
      - name: prometheus-grafana
        namespace: prometheus
        stringData:
          admin-user: diverofdark
          admin-password: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            62386365653130343635346264396236343430646366636535633130623036313831646432636462
            6334623434663736633431363639323633386464346233650a653661393961313630333237633661
            64383265396439343164613338373265313962633365643031323635306637326363323432353134
            3763653132383931330a336230303064353037366565333133346133323435336539306337363830
            3165
      - name: cloudflare-api-token-secret
        namespace: cert-manager
        stringData:
          api-token: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              35633731323336633163356662383165366164353863656262333863323363616333323335613465
              3763633537343862623536666536343462393365363939630a346435636263313762333130373836
              39323731326437363430313237373539666363613061623566643262323536393266666236643261
              6637396264363565660a656334303838616134323237353936616362623966376334316538626561
              61383163663139653264636363376361646230313862643065613431636233663965616561646466
              3566393064333636303839626431376539393363373062373561
      - name: cloudflared-cloudflare-tunnel-remote
        namespace: cloudflared
        stringData:
          tunnelToken: !vault |
              $ANSIBLE_VAULT;1.1;AES256
              61656264316438626265366138366466333536383635623031363066626661666432373164613266
              6439623039666665633030633939383736346639646339390a346635653133616463646665393964
              30663262646237656663353263316331623537366334386330353934613863353163346264656236
              3166373733643762340a326639323662636135366434656165313836393937386161623837323634
              64653562623435626166396330353639366439376435306566643364343031663138656365393134
              36376165326135346438613233303132393231393966306438303763666132623232626439363062
              32303533363733633037326638393137616537333335393364333733326430663735393134663131
              33666333643930633539613938396338353564653664643662313664376561313335323130316137
              39636337656662356232646231646135613634383261343461366431336665643762313534393762
              34643431396265396431323734643832303462346666633036373238653139613839383637643565
              66633232663536663137303464373032363939303638386132643865666662633634393136623036
              30373364316437643137663039643561363935306432386361376465346663396338393736663034
              35333235306465633432353839616331636234396637636334626437396463366134